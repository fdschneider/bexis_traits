---
title: "Towards an Ecological Trait-data Standard"
author:
- name: Florian D. Schneider \footnotemark[1] \footnotemark[2] \footnotemark[3]
- name: Malte Jochum \footnotemark[4]
- name: Gaetane Le Provost \footnotemark[3]
- name: Andreas Ostrowski \footnotemark[5]
- name: Caterina Penone \footnotemark[4]
- name: David Fichtmüller \footnotemark[5]
- name: Anton Güntsch \footnotemark[5]
- name: Pete Manning \footnotemark[3]
- name: Birgitta König-Ries\footnotemark[6]
- name: Nadja K. Simons \footnotemark[7]
csl: amnat.csl
fontsize: 12pt
geometry: margin=1.3in
output:
  pdf_document:
    fig_caption: yes
    fig_crop: no
    keep_tex: yes
    template: pretty.template
  html_document:
    fig_caption: yes
    fig_width: 4
    highlight: null
    keep_md: yes
    theme: united
  word_document:
    fig_caption: yes
    fig_width: 6
bibliography: div05.bib
---

\renewcommand{\thefootnote}{\fnsymbol{footnote}}

\footnotetext[1]{Corresponding author: florian.dirk.schneider@gmail.com}
\footnotetext[2]{Institute of Linguistics and Literary Studies, Technische Universität Darmstadt, Darmstadt, Germany}
\footnotetext[3]{Senckenberg Biodiversity and Climate Research Centre (BiK-F) Frankfurt am Main, Germany}
\footnotetext[4]{Institute of Plant Sciences, University of Bern, Bern, Switzerland}
\footnotetext[5]{Botanischer Garten und Botanisches Museum Berlin-Dahlem, Freie Universität Berlin, Berlin, Germany}
\footnotetext[6]{Department of Mathematics and Computer Science, Friedrich-Schiller-Universität Jena, Jena, Germany}
\footnotetext[7]{Terrestrial Ecology Research Group, Department for Ecology and Ecosystem Management, Center for Life and Food Sciences Weihenstephan, Technische Universität München, Freising, Germany}

\linenumbers

# Abstract

1.	Trait-based approaches are widespread throughout ecological research, due to the great potential for trait data to deliver general and mechanistic conclusions. Accordingly, a wealth of trait data is available for many organism groups but, due to a lack of standardisation, these data come in heterogeneous formats.
2. We review current initiatives and infrastructures for standardising trait data and discuss the importance of standardisation for trait data hosted in distributed open-access repositories.
3. In order to facilitate the standardisation and harmonisation of distributed trait datasets, we propose a general and simple vocabulary as well as a simple data structure for storing and sharing ecological trait data. 
4. Additionally, we provide an R-package that enables the transformation of any dataset into the proposed format. This also allows trait datasets from heterogeneous sources to be harmonized and merged, thus facilitating data compilation for any particular research focus. 
5. With these decentralised tools for trait-data harmonisation, we intend to facilitate the exchange and analysis of trait data within ecological research and enable global syntheses of traits across a wide range of taxa and ecosystems. 

# Key-words: 

functional ecology, species traits, semantic web, ontologies, data standard

# Introduction

<!-- CP:  I think we should develop more on what are the current problems/limitations (quickly because it’s then expanded in the paper) so it becomes evident that the standard+package fill a real need.

That’s the structure I try to follow:
1. Traits are important in ecology, evolution and conservation (i.e.  It is important to mention that traits are important in research and give some examples of questions that traits can help to solve but maybe not spend too long on it (most people know that they are important).

2. To increase the scale of studies (spatial, temporal, taxonomical) we need to put together trait data from different sources. When we do this we can answer new questions and find generalities. So there is a growing interest in assembling trait data from different sources and taxa (e.g. give the number of papers using TRY).

3. There is a problem of standardization that makes it difficult to match trait datasets from different sources. Different reasons: no traits definitions, no common structure.

4. One solution are databases. But these are costly and depend on the will of few persons/funding. They also cover few taxonomic groups. Matching between different databases is still difficult because of different definitions and structures. Most data are still uploaded separately.
We need a solution to make their use easy. 
-->
<!-- GLP: 
 Add a general paragraph on the fact that there have been some initiatives for the development of trait data base for plants (e.g. TRY), why is it important (provide quick access to plant trait values, allowing comparisons even between ecosystems and biomes), now the development of trait data base for other organisms (from microbes to mammals). Say also something on the development of general protocols for measuring traits (e.g. Moretti et al. 2016; Freschet et al. 2017) ?

Importance of data standardization. This is the main idea here and so I wonder if some idea of the first point (Need for data standardization) should not be merge here with the last paragraph of the introduction ? As there is also some repetitions between those 2 parts.

I wonder if you should speak about ‘Functional traits’here or just Traits ? As you are not only considered Functional traits in this paper (e.g. life history traits) ? Maybe remove the definition no ? 
-->
<!-- PM: Thuis is quite complex- e.g. ‘taxonomic impediment’etc. I actually think you can simplify this and built these references into the more general text above by adding a copule of more examples. I don’t think you need to say much about the merits of the trait based approach here- it’s covered elsewhere. 

Huge number of references here- I think you can strip it down to a few key ones, and reviews. Overall I think this section is quite a lot more complex than it needs to be – I think all you need to say is that it’s very popular, general and mechanistic and so adopted throughout eco and evo, with no sign of slowing down- the TRY database download stats can provide a quantitative measure of this- see their site. 
-->

<!-- 1. Traits are important in ecology, evolution and conservation -->

Functional traits are phenotypic characteristics that are related to the fitness and performance of an organism [@mcgill06; @violle07]. Because trait-based approaches to ecological and evolutionary research questions allow studying both patterns and mechanisms [@lavorel02; @diaz16], recent years have seen a proliferation of trait-based research in a wide range of fields.
Trait-based studies have been conducted in a wide range of thematic areas ranging from the evolutionary basis of individual-level properties [@salguero-gomez16] to global patterns of biodiversity [@diaz16] and ecosystem functioning [@allan15; @bello10]. With this mechanistic depth, the trait framework relates losses of ecosystem function to changes in biodiversity, and on to climate change or local anthropogenic land use [@diaz11; @lavorel12; @allan15]. <!-- ;@wood15;  @diaz11; @jennings09; @hopfenmuller14; @mouillot13;  @vandewalle10; @perovic15-->
Using traits is also a promising means of bypassing taxonomic impediment, i.e. the fact that a majority of species are yet undescribed and little is known of their interactions with the environment and other organisms. This is because functional traits allow us to infer the ecological role of organisms  from their apparent features, regardless of their taxonomic identity [@leprovost17; @duarte11; @schrodt15].

<!-- Comparative studies of traits inform researchers about physiological and evolutionary trade-offs, and help identifying economic strategies of organisms beyond taxonomy [@menezes10; @forister15;  @siefert15; @gross09; @wright04]. Inferring an unknown functional role or ecological function of individuals from their apparent features [@duarte11; @schrodt15] is a promising venue to bypass taxonomic impediment, i.e. the fact that a majority of species are yet undescribed and little is known of their interactions with the environment and other organisms. 
Mutual 'trait-matching' of co-evolved organisms enables the inference of ecological interactions from observed features of live specimens [ @kalinkat13; @dehling14a] which may be used to inform ecological networks [@weiner14; @miranda13; @digel11; @schleuning15] and parametrise ecological population-dynamic models [@schneider12; @kalinkat13]. These analyses are also a promising venue for a multitrophic community ecology aiming to unravel dependencies and synchrony in trait spaces between interacting functional groups [@soliveres16]. <!-- GLP: Maybe not the best example as they are not looking at trait diversty and species interactions ? 
Put instead:
Gravel et al. 2016 The meaning of functional trait composition of food webs for ecosystem functioning
And Coux et al. 2016 Linking species functional roles to their network roles
?
-->
<!--
Since traits are so closely related to ecological mechanisms, they have proven useful for scaling individual level physiology and behaviour to functional diversity  of communities [@laliberte10a; @petchey09; @villeger08a; @hillerislambers12;@diaz98; @lavorel02], processes at the ecosystem scale [@fontaine05; @simons16; @gossner16; @moretti13;  @kuhsel15;  @birkhofer14], as well as macro-patterns of biodiversity at the global scale [@diaz16; e.g. @reich97]. <!-- Traits can be used to predict extinction risk [@fritz10; @pearson14] and susceptibility to environmental toxins [@rubach11].--> <!-- GLP: What do you mean by processes ? I’m not sure that the literature cited is always appropriate here ?
-->
<!--
Most importantly, the trait framework relates key ecosystem services for human well-being [@diaz11; @lavorel12; @allan15] back to changes in biodiversity in consequence to global change or local anthropogenic land use [ @diaz07; @gossner16; @mangels17; @jennings09; @simons16;  @mouillot13;  @vandewalle10;  @birkhofer15;@gamez-virues15; @birkhofer17]. 
--> 
<!-- In recent years, trait-based ecology has thus grown into a major field of ecological research, which continues to integrate a rapidly increasing number of fundamental and applied research questions. 
Given the expected future challenges in dealing with climate change and managing land use,  global trait synthesis is an interdisciplinary, cross-topic field with great potential. -->


<!-- 2. assemble trait data into databases -->

Many issues in trait-based research arise when compiling datasets from several sources. Data may differ in taxonmic nomenclature and resolution (e.g. reported on species level or aggregated on higher taxonomical orders), the scale and place of the study context, or the methodology applied in measurements. All of these factors render trait data extremely heterogeneous and make the task of data compilation time-consuming or even prohibitive.
However, fully exploiting the potential of trait-based approaches relies heavily on the broad availability and compatibility of trait data to acheive sufficient taxonomic and regional coverage, both of present-day taxa ase well as in evolutionary deep-time. 

<!-- 3. trait databases have been developed, with standard structure and terms --> 
To this end, trait data have been standardised and compiled in centralised databases for specific organism groups and regional scope, often centred around particular research questions [e.g. PanTHERIA, @jones09; TRY, @kattge11; AmphiBio, @oliveira17]. 
These databases are then published as static data tables (i.e. product of a one-time effort as it is the case of AmphiBIO), or in the form of sophisticated online portals, which attract data submissions from a focal community of researchers and provide research networks for consensus building in data resolution and measurement methods (e.g. TRY, www.try-db.org). Furthermore, these portals map heterogeneous data into a common scheme, and importantly, also offer access control and data usage policies. As such, they protect the rights of the original data providers while simplifying data queries for synthesis researchers. 
Besides initiatives aiming at assembling data, other tools to enable the compatibility of data across databases are being developed. These include semantic-web standards [@wieczorek12; @page08] and ontologies of standard terms [@walls12; @garnier17] for trait-data are beeing developed.
<!-- Solving the numerous issues of data assemblage and harmonisation in centralised infrastructures requires a huge effort in costs and personnel. -->

<!-- 4. distributed trait data must be integrated --> 
While these community efforts for centralisation and harmonization are great advancements in biodiversity informatics and data-management, at the same time the number of decentralised trait-datasets is increasing rapidly. This is due to the fact that open-science reaches the mainstream and a growing number of journals and research funding agencies require data to be published without access restrictions [@swan12; @allison15]. As a result, an increasing number of individual research projects comply with open-data standards and publish their primary data on file hosting services like Figshare.com, Dryad (datadryad.org), Researchgate.net, or Zenodo.org, where no data standards are forced upon the uploaded material. <!-- The data standards mentioned above, that have been proposed for relational trait-databases, do hardly apply for these individual datasets.-->
It is likely that data will become increasingly available, but a lack of data standardisation will hamper the efficient re-use and synthesis of published datasets. 

In this paper, we review existing trait databases and online portals, as well as initiatives for standardisation. We discuss current practice and the importance of data standards for trait-based research, and we identify current deficits in standardisation from a pragmatic view of data providers and data users. Based on these considerations, we propose a minimal structure and vocabulary for describing trait-datasets, that is compatible with existing terminology standards for biodiversity data. Finally, we present an R package that assists the harmonisation of trait data from distributed sources. 

With this easy-to-use terminology and toolset, we hope to inform trait-data providers and trait-data users about the general importance of trait-data standardisation and sketch a roadmap towards an accessible ecological trait data standard.


<!-- FDS: Why 'ecological' trait data? what is special about this subject? Environmental context, community context, space and time, attributes of functional role in the ecosystem and energetic demands, interactions (not covered right now?), correlation and economic trade-offs in trait evolution -->

<!-- PM: Can I suggest a glossary of terms – this would be really helpful for people who are not data management specialists

FDS: see Garnier et al. but may contain: 

-->

Term | Definition 
----- | ---------
Data standard | 
Terminology |  The  body of terms used with a particular technical application in a subject of study. In this case terms related to traits in ecology and evolution?  
Thesaurus | Controlled  vocabulary designed to clarify the definition and structuring of key terms and associated concepts in a specific discipline  [@garnier17]
Trait ontology | Controlled  vocabulary to describe each trait as a distinguishable feature, characteristic, quality or phenotypic feature of a developing or mature individual. Ontologies also link the terms to each other and when possible define their hierarchy.
Semantic web | The concept of connecting data on the internet via well-defined machine-readable standards and exchange protocolls  [@berners-lee02]
Dataset | a set of measurements and observations; often originating from a single experimental set-up or study context; can be considered as being harmonized across all data entries;  
Two-dimensional data tables | a spread-sheet containing data organised in rows and columns; in most cases these datasets are considered 'static', i.e. they are not altered or filtered across time
Database | a set of data compiled from multiple *datasets*; i.e. from multiple study contexts; may take the form of a two-dimensional spreadsheet, but mostly is organised in software tools into *relational databases* 
Relational database | Two or more *two-dimensional data tables* that are related by common information contained in one or more columns; common information is usually labelled by *identifiers* (IDs)
Identifier  (ID) | 
Uniform Resource Identifier (URI) |
Web service | An exchange protocoll to access online databases directly and programmatically, i.e. by calls from a software tool; 
Application Programming Interface (API) | 
Online Portal | A website designed as a platform for the exchange of information, e.g. trait data; a portal may include a communication forum, data upload forms, a database access point, and advanced user management for data access
Repository | Archive for data files; online repositories make data available for public access, provide metadata and (not always) facilitate citations via DOIs (Digital Object Identifiers)
Metadata | 
Darwin Core Standard (Dwc) | Body  of standards containing a glossary of terms intended to facilitate the sharing of information about biological diversity by providing reference definitions, examples, and commentaries. (From http://rs.tdwg.org/dwc/)
Darwin Core Archive (DwC-A) | A file archive (.zip) that contains structured *metadata* and primary data in the form of *two-dimensional data tables* combined into a *relational database* via *identifier* columns. 

 

# A review of initiatives for trait-data standardisation

In this section, we review four types of initiatives that are of relevance for trait data standardisation:

1. Projects that work with trait datasets which have been assembled out of a particular research interest, either by measurement or collated from literature; 
2. Initiatives that aim to harmonize trait data from the literature or from direct measurement into trait databases and make those data widely available; 
3. Initiatives that aim at the standardization and development of consensus methods and definitions for traits and provides standard terminologies and 'ontologies'; 
4. Initiative that feed the needs of biodiversity informatics and develop relational database structures and provide platforms to relate trait data to a wider 'semantic web' of biodiversity data. 

We discuss these initiatives separately although often they are developed in conjunction to serve a particular database project, as for instance in the case of the TRY plant database [@kattge11; @kattge11a] and the  Thesaurus of Plant Traits [TOP; @garnier17]. 
We show how the degree of trait-data standardisation in existing datasets spans  this entire spectrum and which tools and standards do exist to achieve harmonisation of data from multiple, distributed sources. 
The objective of this review is to raise awareness for the generic structure of trait data and aid ecological researchers to share and publish own datasets in an appropriate form. 

## Trait datasets 

In the field of comparative physiology, morphological traits such as plant flower, leaf and stem traits or bird wing and beak measurements, as well as life-history traits such as Ellenberg values  have been measured for decades, and have been contained in regular articles or books. 
With the rise of ecological trait-based research, individual measurements and information available from species descriptions have been compiled into project-specific datasets that comprise a local set of taxa and a focal set of traits. 
A plethora of such static datasets has been published along with scientific articles or as standalone data publications [see @kleyer08 for a review on plant data; on animal data, see e.g., @sokol11; @gossner15;  @renner14; @vanderplas17; @price13;  @ricklefs17].

Today, the online publication of such data is greatly facilitated by hosting services like  Figshare.com, Dryad (datadryad.org), Researchgate.net, Zenodo.org. 
Furthermore, these services warrant long-term accessibility (offering DOIs for referencing), and support Public Domain dedication or Creative Commons Attribution licenses, which supports the declared goal of an open biodiversity knowledge management (http://www.bouchoutdeclaration.org/) and is increasingly demanded by journals and public research funding [@emerson15; @allianceofgermanscienceorganisations10; @theroyalsocietysciencepolicycentre12].
However, although open for manual access, the trait datasets on data repositories might be stored in proprietary (e.g. .xlsx, .docx) or binary (e.g. .pdf) data formats which make a programmatical extraction tedious and depending on commercial software, putting the long-term accessibility of these data at risk. 

Most importantly, these platforms offer low-cost or free hosting of data with very low thresholds in terms of metadata documentation and standardisation, which make them attractive for small and intermediate sized research projects that cannot dedicate extra resources on data management. 
As a result of this, datasets also greatly vary in structure. 
Data management initiatives that arise from scientific communities and projects, like the KNB (the Knowledge Network for Biocomplexity; https://knb.ecoinformatics.org/), offer means to meet the high scientific criteria of data management.

For trait-data, there are specific issues arising from the variability of data structure. 
For instance, the column descriptions and applied terminologies for taxa and traits are project specific, and rarely chosen to relate the data to other existing work or feed into larger database initiatives. Datasets vary in the detail provided in the metadata, e.g. for documenting descriptions of variables, measurement procedures or sampling context [@kattge11a]. 
If factual trait data have been collated at the species level from different literature sources or from expert knowledge, or as aggregated quantitative measurements averaged from raw data, they usually are reported in a species$\times$trait wide-table format. Here, each row contains a species (or taxon) for which multiple traits are reported in columns. 
Similarly, when reporting raw data, researchers place observations of individual specimens in rows with multiple trait measurements applied to the same specimen placed in columns. 
The variability of the number and meaning of columns in these tables requires manual adjustments when merging multiple datasets.

As it stands, this lack of data standardization of low-threshold online repositories will mean that that the compilation of data into larger collections will be inefficient and that many published datasets will not be properly exploited.

A global overview of existing trait data for all taxa and trait types is difficult to obtain. Therefore, in an attempt to collate a list of existing, distributed and unstandardized datasets, we initiated a living spreadsheet (https://goo.gl/QxzfHy; Appendix A) which lists published trait datasets, their regional and taxonomic focus, the traits covered, their location on the internet and the terms of their use (see Appendix 1 for a current excerpt of this list). We invite data owners and users to register further datasets qualifying as trait data to this spreadsheet.  

## Database initiatives

<!-- community database backend, but static publication --> 
In the past two decades,  distributed trait data have been aggregated and harmonized into greater collections with particular taxonomic or regional focus [e.g. @klotz02; @iversen17; @kleyer08; @oliveira17; @myhrvold15; @kissling14; @jones09]. <!--[@wright04; ] -->
While mostly concerned with issues of heterogeneity in units or factor levels, and aiming for high taxonomic coverage, few of these datasets are using a standardised terminology for taxa or for traits that would allow to relate them to other databases.<!--and aiming for taxonomic completeness, the products of these initiatives employ a project specific structure and vocabulary. -->
Documentation of metadata and methodology differs in detail, depending on the research focus of the initiative. 
Just as the individual datasets described above, many of these databases are published as static datasets on low-threshold file hosting platforms and are updated irregularly.

Dealing with much larger amounts of data, initiatives that form around museal collection data are more concerned with data standardization. Aiming for a mobilization of measurements from collections, the  VertNet database compiles and harmonized large quantities of vertebrate traitdata [@guralnick16]. The resulting data are published as static datasets which are updated as new data sources are integrated. 

<!-- database backend, selective download, user access management --> 
More specialised trait-database platforms have been created that cover certain trait types (e.g. floral traits, seed traits or wood density traits), interaction types (e.g. pollination traits or feeding relationships), or environmental and experimental context of the trait observation (e.g. location or climatic data).  
These centralized database initiatives attract data submissions from a defined research field and take care of the harmonization process and greatly facilitate data synthesis. 
<!--For example, traits on crop plants have been collected in agronomy databases like  BetyDB [https://www.betydb.org/; @lebauer17].-->
By aiming for a universal framework for plant traits, the TRY database for plant traits [@kattge11]  attracted more data submissions and downloads than any other platform. The online platform enables selective data download and user permission and rights management. As a community effort, TRY serves as a network for consensus building on trait definitions [@garnier17] and measurement methodology [@perez-harguindeguy13] (see next section). 
Microbial ecologists also make frequent use of trait-based approaches to assess genomic function and describe functional diversity at the community level [@krause14; @fierer14;  @fierer12]. Here, taxa are derived from metagenomic analysis [@torsvik02; @langille13]. Databases are also used to interpret gene sequences, so called 'operational taxonomic units' (OTUs), in terms of their functional role [e.g. the KEGG orthology, @kanehisa12]. 
On the side of animals, the BETSI database collects traits on soil invertebrates [http://betsi.cesab.org/; @pey14], and the Carabids.org web portal collects traits of carabid beetles (http://www.carabids.org/). 
Unlike for plants, a single unified platform and harmonizing scheme for animal trait data is still lacking. The reason for this may be that data on animals, which span multiple trophic levels and possess diverse body plans, make harmonizing animal trait data a more complex task than for plant traits [@moretti17].

Regarding open access, hardly any of these centralised databases for traits comply with the criteria demanded by journals and funding agencies for primary data publication. The platforms incentivise data submissions by offering increased data visibility and usage, while providing data use policies that secure author attribution and, if demanded by the data owner, co-authorship.  
With the pro-active turn towards open access data (as declared inthe Bouchot Declaration; http://www.bouchoutdeclaration.org/) it may be necessary to find other incentives for data submission. 

<!-- AO: In a sense of data availability to the public : yes. But do we discuss it here? We want to show how to make trait data sharing easier due to better data format, or?Not the topic of this article to discuss open vs. non-open data, or?
bKR: I am not quite sure what point you are trying to make it, the paragraph sort of goes back and forth between advantages and drawbacks of the different approaches. 
FDS: I think its part of the rationale for a simple data standard. More open data mean that we need more awareness for data standardisation. 
 -->

## Thesauri and Ontologies for traits

A major problem in trait-data standardisation is the reference to accepted and unambiguous trait definitions. This is acheived via thesauri and ontologies. 
In database management, a thesaurus provides a "controlled vocabulary designed to clarify the definition and structuring of key terms and associated concepts in a specific discipline" [@laporte13; @garnier17].  Expanding on this, ontologies link the defined terms with each other by formally defining the relationships between them, with the objective to enable a computational interpretation of data. Providing relational ontologies in a machine readable form makes them compliant with semantic web standards, thus supporting the goal of widely interlinked data structures for the world wide web [@berners-lee01; @page08]. 

<!--Thus, in its simplest form,  a trait thesaurus would assign trait names with A) an unambiguous definition of the trait and B) an expected format (e.g. units or legit factor levels) of measured values or reported facts. It might additionally provide semantic relationships between terms for deriving a hierarchical or tree-based classification of traits. --><!-- BKR: Isn’t that the same? Or can you have multiple parents for one node? FDS: agree. simplify phrasing. -->

Standard trait definitions have been provided in all shades along this continuum, ranging from listings of definitions in glossaries, over well-defined thesauri to relational ontologies. The initiatives behind these are first and foremost concerned with consensus building on trait definitions. 
Assigning an unambiguous methodological protocol of measurements to a trait is key for harmonizing the physical process of measuring. Efforts to develop handbooks for measurement protocols provide such a methodological standardization for plants  [@cornelissen03; @perez-harguindeguy13] or invertebrates [@moretti17], but are of limited effect when harmonizing trait data that predate or ignore this standard [@kattge11a].
Very general classes of traits are defined within the list of GeoBON Essential Biodiversity Variables [@pereira13].
Thesauri of trait definitions have been developed for plants [e.g. the Planteome ontology for crop plants, @walls12; @jaiswal05; the Flora Phenotype Ontology, @hoehndorf16], as well as for animals [e.g. the Hymenoptera Anatomy Ontology, @yoder10; the vertebrate trait ontology, @park13]. 
Comprehensive trait ontologies, including hierarchies of parent terms, have been developed in the TOP Thesaurus of plant traits, which is employed in the TRY database [@garnier17], and on the side of animal traits, in the Thesaurus for Soil Invertebrate Trait-based Approaches [T-SITA, http://t-sita.cesab.org/, @pey14]. 

These existing thesauri and ontologies for traits differ widely in terms of hierarchical depths and detail, as well as curation efforts and measures for peer-reviewed quality control. 
For biodiversity data, the OBO Foundry (http://www.obofoundry.org/), ontobee (http://www.ontobee.org/), or the GFBio Terminology service (https://terminologies.gfbio.org/browse/), provide hosting for advanced trait ontologies and offer webservices for computational access.  <!-- Mention also NCBO BioPortal? https://bioportal.bioontology.org/ -->
These publicly available online resources also enable linking trait measurements to globally unique Uniform Resource Identifiers (URIs) when referencing traits from within own datasets. For example, a measurement of seed size would be linked to Planteome Trait Ontology definition of 'seed size' by referencing 'http://browser.planteome.org/amigo/term/TO:0000391'. 

To be unambiguous, any thesaurus should be defining terms based on other well-defined terms from semantic ontologies. The definition provided here contains references to other globally defined terms: "A seed morphology trait (TO:0000184) which is the size of a seed (PO:0009010)."
This way, each trait definition may link to a broader or narrower term. For example, the definition of 'femur length of first leg, left side' is narrower than 'femur length' which is narrower than 'leg trait' which is narrower than 'locomotion trait'. 
Furthermore, trait definitions may refer to related terms or synonyms defined in other trait ontologies. By providing this semantic interlinkage of trait ontologies, a web of definitions is spun across the internet which allows researchers and search engines to relate independent trait measurements with each other.

To conclude, there is a shortage of globally valid trait thesauri or ontologies for traits that emerged from a standardisation effort of methodologies and broad consensus process within scientific field of ecology *and* that are sufficiently interlinked and accessible to fulfil semantic web standards. 
The benefit of such ontologies will increase if webservices and open Application Programming Interfaces (APIs) provide a way to extract the definitions and higher-level trait hierarchies programmatically via software tools. To harmonize trait data across databases, future trait terminology initiatives should provide this functionality.
Such thesauri would advance the possibilities of aggregated datasets and reduce noise and uncertainty. 
More compatibility and availability of trait thesauri could greatly improve the possibilities for a comparitive study of trait data from distributed sources. 

## Trait-data structures for the semantic web

While trait thesauri define traits for focal groups of organisms, they are not specifying the  format or structure in which trait data should be stored and linked to further standard terminologies, e.g. for taxa. 
To make sense of trait data in the context of more general databases, a consensus definition of trait datasets is inevitable.  

Trait data have been defined  by @garnier17 to follow an entity-quality model (EQ), where a trait observation is phrased as 'an entity having a quality'. 
More specifically, a trait dataset contains information on quantitative measurements or qualitative facts (i.e. trait values) describing the physical phenotypic characteristics relating to fitness, behaviour or performance (i.e. traits) observed on a biological entity (i.e. an individual specimen, or parts of an individual specimen) that can be assigned to a biological taxon (i.e. a species or higher-level taxon). 
Expaning on this definition, quantitative measurements are values obtained either by direct morphological, physiological or behavioural observations on single specimens (Fig. 1*a*), by aggregating replicated measurements on multiple entities (Fig. 1*b*) or by estimation the means or ranges for the species as reported in literature or other published sources (e.g. databases, Fig. 1*c*). Qualitative facts are assignments of an entity to a categorical level, e.g. of a behavioural or life-history trait (Fig. 1*d*). 
The entity or observation (i.e. the occurrence) to which the reported measurement or fact applies may differ in organisational scale -- depending on the scientific question -- and could be a sub-sample or bodypart, an individual specimen, an entire species or a higher-level taxon (e.g. a genus).  

\begin{figure}[t]
\centering
\includegraphics[width=0.85\textwidth, angle=0]{figures/fig1.png}
\caption{Types of ecological trait data assume different entities or reported quantities. a) morphometric or morphological measurements of individual body features (lengths, areas, volumes, weights) or other quantities related to life history (e.g. reproductive rates, life spans); b) aggregated traits are reported as means taken on multiple measures of members of a taxon; c) quantities may be extracted from literature or existing databases, referring to the entire taxon (or a subset, e.g. a sex) as the entity of description; d) Qualitative traits are categorical or binary descriptors of the entire taxon.}

\end{figure}
<!-- DF : The “variables” for the taxa etc should only be reused for the different examples when they refer to something similar: “a) Entity: an individual X of taxon Y”, “b) Entity: taxon Y”, “c) Entity: males of taxon Z” and “d) Entity: genus U”. Alternatively, since these are already example, why use variables here in the first place and not just specific example for the taxa as well: “a) Entity: an individual X of taxon Tettigonia viridissima” -->

These relations between a trait observation and an individual specimen as an occurrence of a particular taxon have been formalized in the schema for biological collection records [ABCD Schema; @walls14] and the Darwin Core Standard for biodiversity data [DwC; @wieczorek12]. 
These frameworks specify terms and classes to describe the general structure of biodiversity databases, for example by defining which field is to contain trait values, units, taxon names, variables such as sex or life stage, as well as ancillary information of time and date of observation, as well as methodological details. The terminologies provided by these standards are quite universal and cover most use cases of trait data. 
<!-- TODO FDS: dimensional and star-shema databases, relational databases Kattge et al 2011, Kimball & Ross 2002-->
<!--  DF: am not sure, where to best write this comment, but I think it belongs somewhere in this chapter. The Trait Data Standard is a standard on how to store trait data measurements. In this chapter you mention what databases for trait data there are (usually specific for certain taxa) and what ontologies there for the different traits, however it is missing the section on how trait data measurements have been and can be stored prior to your standard. For instance the ABCD standard has a huge section for MeasurementsAndFacts. And while it certainly is not primarily made to capture trait measurements, it can certainly be used for it (at least on a unit level, combining measurements for higher taxa is not possible). Darwin Core has similar, though not as extensive, fields for measurements, as they were modelled based on ABCD. While I agree that your standard is useful and necessary, it certainly is not the first standardized way to describe trait measurements.  -->

Specifically designed for the context of plant traits, @kattge11 proposed a generic structure for databases that covers most potential use cases of trait-based ecology. This data structure is build around a central data table that contains observations, i.e. a single event of measurements on the same individual plant specimen at the same point in time. This structure puts emphasis on the fact that trait  data are often measured for an analysis of correlations of multiple traits. Identifiers link multiple measurements (qualities) to the same observation (entity), each measurement being well defined by additional standard tables. The observations are also linked to a taxonomy and ancillary descriptors of the observation context, like location or experimental treatment. This structure can be implemented in any software or programming language for relational databases. 
<!-- FDS: enter comments of Jens Kattge here!-->

In a similar vein, the Encyclopedia of Life (EOL) project has proposed the database framework TraitBank [@parr16] for major physiological and life-history traits of all kingdoms, which is to date the most general approach to providing an integrated structure for trait data tables.
The framework employs established terms provided by the DwC, relates trait definitions to specific trait, phenotypic and anatomical ontologies, and maps taxa to global identifiers in taxonomic hierarchies of name service providers  to capture synonyms, misspellings and controversies [@parr16, http://eol.org/info/cp_archives]. The difficulties with keeping taxonomic references intact along with continuous changes in taxonomy consensus are a central challenge of biodiversity data management and are beyond the scope of this review. 
Additional layers of information capture bibliographic reference, multimedia archives and ecological interactions. 
TraitBank invites data submissions to the EOL database in a structured Darwin Core Archive [DwC-A, @robertson09a], a zip-file with annotated text-files that is also preffered for observation data in GBIF [@gbif17,  http://tools.gbif.org/dwca-assistant/]. 
The archive also integrates the general framework for metadata of the Ecological Metadata Language [EML, @knb11]. 

These proposed standards and the available terms and extensions are responses to a demand from biodiversity data management for more structured input from the research community. 
Hovewer, hardly any of the aforementioned aggregated and harmonized datasets for birds, amphibians, or mammals employs such ontologies or semantic web standards. 

One reason for this is most certainly complexity: The data structures are designed for multi-layered databases rather than for static datasets for which a two-dimensional data table might suffice.  
If the traits are assembled for a specific research question with few columns of ancillary information, it may be safer to add this information as extra columns to the two-dimensional data table, thus facilitating an analysis of correlations between traits and co-factors further down the road. This way, if datasets of different source are merged, the related information is readily available without the risk of breaking the reference to an external datasheet. 

The other reason is lack of awareness of data providers for trait data standardization: many trait-data providers are not trained in the demands of biodiversity data-management and complying with the apparently non-intuitive data structures is an investment without clear incentive or immediate pay-off. Investing time and energy into research for the best and most sustainable data structure is not affordable for small and intermediate-size research projects. 

By filling this gap, data brokering services [e.g. the German Federation on for Biological Data; gfbio.org; @diepenbroek14] or data management systems for scientific projects (e.g. BExIS, NEON Dataportal; Diversity Workbench, diversityworkbench.net; KNB and its open-source database back-end Metacat, https://knb.ecoinformatics.org/) are likely to gain importance. These services simplify and direct the standardized upload of research data and descriptive metadata into reliable and interlinked data infrastructures. One goal of such initiatives is to facilitate data publications and standardization for researchers, for instance by providing terminologies and ontologies for biodiversity data, and by consulting on publication licenses. <!-- AG:  EDIT Platform for Cybertaxonomy (cybertaxonomy) -->

## Conclusion of review

Initiatives for standardization (e.g. ontologies and data standards) and platforms for data management (e.g. database and data management platforms) provide great visibility and improve interconnectedness of datasets, but raise relatively high thresholds for data and metadata preparation.  
With low-threshold offers for the hosting of scientific primary data attracting a wealth of heterogeneous trait-datasets, the concern is with data harmonization of these distributed data sources. 

The goal must be to integrate these distributed data better into the global biodiversity data-management ecosystem by creating awareness for data standardization on the side of data providers. 
We propose the development of  tools and vocabularies that impose low thresholds and offer high payoff in data visibility and interconnectedness of the published data. 

<!--
Depending on the research objective, trait-data are stored in a range of different table formats. In the subsequent paragraphs, we discuss the most common formats  in relation to the use cases in trait-based ecology. 

### a) Species wide-table

<!-- AO: You argue somehow that matrix format I a result of lit. review and so on. I would not agree with it. Your example also “just” points to aggregated data which menas one row is on species (aggregated) value.
Your example is (for me) not really a matrix. In a matrix you have a relation between two variables. In the first column and and on the upper row normally the values of one variable are written. An example would be species x body length. Then for body_length some classifications are written like (0-1, 1-2, 2-3,…) Then in the matrix the observation/abundance/… is noted. E.g. spec1 x “0-1” = 5, spec1 x “1-2” = 3, and so on. Your wexample hat already different variables (=traits) with different units as columns. That is a meaningfull representation of variables and values in a normal data table. Maybe it is good her to show the enormous number of different investigated traits and point to the resulting big (many columns = wide) tables.
--><!--
If trait data have been collated at the species level from different literature sources or from expert knowledge, or as aggregated measurements collated from raw data, they usually are reported in a species$\times$trait wide-table format (Fig. 2*a*), with a column of values for each trait recorded and a row for each species (or taxon) for which data were available. 
The wide-table format is widely used for the production of lookup-tables at the species level, which may either report qualitative facts (from literature or  expert knowledge) or aggregated quantitative traits (averages or ranges of trait values for this taxon). <!-- AO: You say it already 2 sentences before --><!--
This format needs to clearly differentiate missing data and traits not applicable to a given taxon (often filled in as 'NA' or dummy numbers, e.g. '999'). It may store additional information (e.g. on variation of means or literature source) in secondary columns or accompanying datasheets. 

Quantitative traits reported at this resolution are often used to calculate community weighted means or functional diversity metrics at the community level [@laliberte10a]. Also at this level of information, missing entries, e.g. about the trait values of a rarely described species, may be inferred from these tables when combined with phylogenies ['gap filling', @swenson14; @penone14; @taugourdeau14] and using Bayesian approaches [@schrodt15]. <!--However, these matrices do not allow estimates of within-species variation or assessments of the quality of the reported measurement or fact [@guralnick16]. --><!--AO: Why not? I can filter for a specific species and get all respective rows. But this is not a result a using a data format, it is a result of the data itself, FDS: no, since only one row per species exists; true that data itself don't cover this variation. -->
<!--

### b) Occurrence wide-table

In these occurrence wide-tables (Fig. 2*b*), each row is centered around a single physical occurrence of a species, e.g. phenotypic variation of traits within species would usually be recorded per observation where each replicate taken on a distinct individual specimen would be recorded in a row, with the respective trait values stored in columns. Those data are common in investigations of evolutionary trade-offs and trait correlation, or of intra-specific variation along environmental gradients. Occurrence data would also capture phenotypic variation arising from morphotypes and sexual dimorphism. This format is the most intuitive for recording own empirical measurements and therefore is common for measured quantitative data but rarely found for reported qualitative facts obtained from the literature.

### c.) measurement long-table

Both wide-table formats report the different trait values stored in multiple columns. Each trait column represents one value that applies to the entity in question (i.e. to a species  or an occurrence). As the column names and the width of the table varies with the number of traits included, merging data from different sources requires user-defined mapping and manual harmonization of these structures. 

A computationally more effective method that allows for high flexibility is the storage of traitdata in long-table formats [@wickham14; @parr16]. In these, each row is reserved for a single measurement or fact of a specific trait, referenced to a single specimen  (i.e., one occurrence)  which is assigned to a specific taxon. 
<!-- FDS: also refer to kattge 11 -->
<!--AO: Useful for data sharing, ease of data harmonization, aggregation: probably yes. But not necessarily computational more effective at all. E.g. I start to mix up numeric values with descriptive values. I start to mix up different units. Now it is more complicated to retrieve associated values (like all length measurements in mm) again to make e.g. quality stuff. Ergo less effective from that perspective. But it has some advantages which may overrule dis. See below 
AO: For the whole proofing why to use such a long format I think that GBIF and DwC has already given some sentences. I strongly think their work should be considered and can be used as reference!
We can simply argue that a well established routine should now also executed on trait level!
Furthermore for DwC exists also the “extended measurement or facts extension” which is useful for putting e.g. traits to species.

--><!--
This allows repeated measurements on a single individual to be stored by linking the data from separate rows via a unique specimen identifier. Also, multivariate trait measurements can be recorded in this format by linking multiple rows via a unique measurement identifier.  Long-table datasets purport multiple advantages for data manipulation (e.g. filtering, sub-setting and aggregating data), visualization (e.g. plot measured values by factor variable or taxon) and statistical modelling (e.g. ANOVA for testing difference of trait value by sex) [@wickham14]. As long-table fromats draw from a defined set of columns,  merging of datasets is much easier. 
<!-- BKR: Is that really true? Of course, you have less problems on the schema or structure level. But, on the other hand, the differences (e.g. different terms for the same trait,…) now happen on the instance level (that is – in the data; in the rows). Thus, at least with respect to integration, you just move the problem from one level to the other.  To ease integration, one would need to agree on the entries in the features column
AO: Maybe describe some more advantages here like: it is possible to ensure that the items/values are always taken from a provided lookup-table e.g. for taxon, trait_names, units, more?
We may have something like a dimension, the data source (measurement, lit. review, …) and some more criteria which are beneficial for researchers  and data aggregation?
Again: I think we find here papers regarding DWC and GBIF (and OBIS) as source of proofing the facts.
-->
<!--
The long-table format therefore is ideal for storing raw data of trait measurements in huge databases, and allows the entries to be linked via the respective unique identifiers to additional information. Each row of the dataset can therefore be interpreted as a statement of an 'entity x having a qualitative/quantitative feature y' (Fig. 2*c*). 

<!-- Cat: here I guess that a figure showing few rows of a species x trait matrix and a long-format one with links to other information (metadata,..) woud help quite a lot. By experience some users are not be familiar with the interest of using the long-table format.-->
<!-- Malte: I agree (see my comment above), such a figure / would definitely help convince people (or at least not to lose them). -->
<!--
\begin{figure}[t]
\centering
\includegraphics[width=1\textwidth, angle=0]{figures/fig2.png}
\caption{Formats used for trait datasets.  a) taxon-level trait data compiled from literature or aggregated from measurements are often published as a compiled species $\times$ traits matrix; b) wide-tables report measurements on the specimen-level, i.e. one physical occurrence of a taxon; c) a measurement long-table is a well defined and tidy data format, reporting one single measurement per row and relating it to a trait definition and taxon via unambiguous identifiers. Additional identifiers relate each row to other layers of information on d) the specimen (occurrence) or e) the origin or confidence on the reported measurement or fact.}

\end{figure}
-->

<!--The trade-off is data-consistency and readability *vs.* avoidance of content duplication. -->

<!--When traits are assessed on a higher level of organisation, e.g. microbial functional traits assessed at the community level taken from a soil sample, key data columns would be placed in the same table as the core data are traits. Here, location or measurement information are the primary focus of the investigation and must be contained in the . 
<!-- PM: I get lost here-->
<!--A general recommendation, whether a column describes ancillary data or is part of the central dataset is ill advised. Therefore, our glossary of terms and its extensions should be used to describe the scientific data according to the study context. -->
<!-- FDS: shorten this and refer to existing standards for database use. the star-structure of ABCD, Kattge et al , and Garnier .-->
<!--while the existing trait data standards may cover all of the aspects required in the various use-cases of trait-based research. <!-- examples for blind spots; PM: Vague- not sure what is missing here- be more specific --> 

# 2. Proposing an ecological traitdata standard vocabulary

As a response to the observations and conclusions above, we propose a versatile vocabulary that captures the different degrees of measurement detail for multiple use cases of trait-based ecological research. 
Rather than describing a data structure for relational databases, this is intended as a more inclusive terminology, that can be used in simple two-dimensional datasets as well as in the exchange of data between web services in the 'semantic web'.  

By using this standard vocabulary, authors can ensure that the description of tables of trait measurements that are uploaded to distributed data repositories like Figshare, Zenodo etc. will be unambiguous and generally applicable. It will facilitate re-use of data for future data aggregation initiatives and data synthesis and ensure accessibility in the long term. 

The online reference to the standard vocabulary can be found at https://ecologicaltraitdata.github.io/ETS/.

In designing this vocabulary, we drew on the combined expertise of empirical biodiversity researchers (data providers), biodiversity synthesis researchers (data users), and biodiversity informatics researchers (data managers).  
We paid particular consideration to the work of @kattge11, @kattge11a,  and @garnier17, as well as @parr16 to ensure compatibility of our proposed data structure with major trait databases and existing standards for biodiversity data management. Here, the use of identifiers ('IDs') for the individual measurement observations ('measurementID'), specimens ('occurenceID'), sampling events ('eventID'), or taxa ('taxonID') is key to map two-dimensional data onto the structure of relational databases. 

However, the vocabulary proposed is meant as a preliminary draft of a standard nomenclature to be completed and corrected by the wider community of researchers using trait-based approaches in ecology, and may in the future integrate more morphological and evolutionary perspectives as well.
Also, at present we conceptualize trait-datasets to  not include information about a species' interaction partners/associations of an organism, since they are -- to our understanding -- not within the scope of the Entity-Quality Model. However, such network data may easily be combined with trait data via the taxon identifiers or by using other Extensions of the Darwin Core (DwC).
Therefore, we invite researchers to contribute to the next iterations of the standard vocabulary and develop own applications and ontologies that interact with it. 


## Why use the vocabulary

The incentives for using a unified vocabulary for trait data might not be obvious for data providers, who are mainly concerned with a particular study site, organism group and research question. We won't discuss here in depth how sharing trait data will improve science on broader questions and larger scales, by providing a data basis for downstream analysis. It appears to be broad consensus that an open biodiversity science is crucial for an evidence based decision making and conservation policy on regional and global scales. 

Instead, this section points on the technical aspects and advantages of readying own trait data to link with the 'semantic web' of biodiversity data and knowledge. 
By using a constrained vocabulary with globally accessible definitions of terms, data can be accessed more easily by other researchers and datasets from different sources can be combined into aggregated datasets.
Also it will be easier to develop computational methods and software tools that access and handle the data, based on the standard vocabulary. 

It is implicit to this vocabulary to use a two-dimensional observation long-table format for the data, rather than a species-trait matrix (where some of the columns would be trait names which are not included in the vocabulary, but are part of trait thesauri). As this format draws from a defined set of columns,  merging of datasets is  easier. Long-table datasets also purport multiple advantages for data manipulation [e.g. filtering, sub-setting and aggregating data; @wickham14]. 

Using well-defined identifiers ('IDs') to structure the dataset offers compatibility with the input formats for larger databases that may offer better visibility and impact of the data contribution. 
Identifier fields are key elements to structure the two-dimensional dataset. 
For instance, for occurrence level data, were multiple trait measurements are reported for each individual specimen, the same user-defined entry for 'occurrenceID' would link these measurements across the rows of the dataset. 
Similarly, multivariate measurements, like for instance gas chromatography data or x-y-z data of morphometric landmarks could be linked via a 'measurementID'. 
If literature data are provided, data are probably not structured below the taxon level and a 'taxonID' is the key identifier.
A 'datasetID' allows to report datasets that have been compiled from multiple sources.  
Beyond being just of structural use for the dataset, identifiers are capable of linking own data to consensus taxonomy and trait terminology via Uniform Resource Identifiers (URIs), which point to external ontology services (see above for resources). 

However, two-dimensional spreadsheets are limited in the number and complexity of measurements they can contain. For datasets containing multi-layered information on observations, traits, taxa and environmental context, we  recommend to consider relational datatabase structures composed of multiple spreadsheets linked via identifier columns, like for example the generic trait database structure proposed by @kattge11a or the Traitbank structure proposed by @parr16, ideally compiled into Darwin Core Archives [DwC-A, @robertson09a]. The trade-off is data-consistency and readability in a single table *vs.* avoidance of content duplication and redundancy in a relational database. The standard vocabulary proposed here may still be applied within these structured databases. 

## How to apply the standard vocabulary

\begin{figure}[t]
\centering
\includegraphics[width=1\textwidth, angle=0]{figures/fig2.png}
\caption{Formats used for trait datasets.  a) taxon-level trait data compiled from literature or aggregated from measurements are often published as a compiled species $\times$ traits matrix; b) observation long-tables are a well defined and tidy data format, reporting one single measurement per row and c) relating it to a standard trait definition and accepted taxon name using unambiguous identifiers. Additional identifiers relate each row to other layers of information on d) the taxon resolution, the specimen (occurrence) or the origin or confidence on the reported measurement or fact.}

\end{figure}

Column names and, where possible, field entries of a trait datasets published on online repositories should draw from the defined vocabulary. 

The core vocabulary lists and defines terms that describe a dataset according to the Entity-Quality model described above [@garnier17]: a trait dataset contains information on quantitative measurements or qualitative facts (i.e. trait values) describing the physical phenotypic characteristics relating to fitness, behaviour or performance (i.e. traits) observed on a biological entity (i.e. an individual specimen, or parts of an individual specimen) that can be assigned to a biological taxon (i.e. a species or higher-level taxon). 

Additional terms are provided for metadata and for lists of trait definitions (i.e. trait thesauri, see below). 

Beyond the core observations, further information might be available that are related to the individual or specimen or the taxon, or that put the reported fact, measurement or sampling event in a broader observation context  (including geolocation and date information). These information can be useful for future analysis of the causal reasons of trait variation and should always be published along with the core data. For this case, we offer three extensions of the core vocabulary ("taxon", "measurement or fact", and "occurrence") that expand and refine terms of the Darwin Core Extensions (see below). This information may simply be added as extra columns to the core dataset.

For reasons of long-term accessibility, data should not be uploaded in spreadsheet formats (like '.xlsx') but rather in comma-separated text files  ('.csv' or '.txt') that are compatible with all computing platforms and internationalisation settings by applying a unified character encoding (e.g. UTF-8 or ASCII). 

In order to ensure traceability, the metadata of any dataset that employs this vocabulary should refer to the specific online version that was used to build the dataset, e.g."Schneider, F.D., Jochum, M.,  LeProvost, G., Penone, C., Ostrowski, A. and Simons, N.K., 2017 Ecological Traitdata Standard v0.6, DOI: 10.5281/zenodo.1048956, URL: https://ecologicaltraitdata.github.io/ETS/v0.6/". In addition to this versioned online reference, the dataset should also cite this paper for an explanation of the rationale.

Wherever referring to individual terms in publications or metadata, please do so via their global identifier, which is hosted by the GFBio Terminology Service [@karam16; https://terminologies.gfbio.org/], which also can be accessed programmatically (i.e. via the Application Programming Interface, API **in preparation!**). Wherever our glossary refines or duplicates existing terms from other ontologies for biological data, like the Glossary of EOL (http://eol.org/info/516) and Darwin Core (http://rs.tdwg.org/dwc/terms/), we indicate this in the fields 'refines' or 'identical', respectively.

Besides this use in published datasets, the standard vocabulary could be imposed in webservices, e.g. APIs that provide direct access to online databases or download tools that pull subsets of data from larger databases. 


### Specifications of core terms

To qualify as trait data according to the definition provided above, where each row is the reported measurement or fact for a single observation, the following columns are required at minimum: 
1. a value (column `traitValue`) and -- for numeric values -- a standard unit (`traitUnit`); 
2. a descriptive trait name (`traitName`) that links to a well-defined definition; 
3. the scientific taxon for which the measurement or fact was obtained (`scientificName`). 
For these core values, we highly recommend to use unambiguous and self-explanatory vocabularies for trait names and taxa. 
However, in order to keep the data compatible with own databases or analytical code, it might be necessary to use abbreviations or own identifiers for `scientificName`  and `traitName` instead. 

<!--### Relate to global taxon and trait definitions -->

In this case, it is essential to relate the user-defined names to a consensus standard of taxon names as well as a look-up tables of traits. 
This is achieved by adding globally valid Uniform Resource Identifiers (URIs) for taxa (`taxonID`) and trait definitions (`traitID`), complemented by the human-readable verbatim accepted names (`ScientificNameStd` and `traitNameStd`, respectively). For example, referring to GBIF Backbone Terminology, for *Bellis perennis*, the taxonID would be  'https://www.gbif.org/species/3117424'; the `traitID` for 'fruit mass' according to TOP Thesaurus of plant traits would be  'http://top-thesaurus.org/annotationInfo?viz=1&&trait=Fruit_mass'.  
By allowing for a double record of both user-specific and standardised entries, we acknowledge the fact that most authors have their own schemes for standardisation which may refer to different scientific community standards  [as practiced in TRY; @kattge11]. This redundancy of data allows for continuity on the authors and data owners side while also ensuring quality checks and comparability for the data user.

<!-- PM: '... failure to provide these URI for taxa will ...' In general some examples of benefits would be good -->


### Specification of traits

If no globally available trait definition is available that can be referenced, trait-datasets should be accompanied by a dataset-specific glossary of traits, or thesaurus. Such a 'controlled vocabulary' would, in its simplest form, assign trait names with an unambiguous definition of the trait and an expected format  of measured values or reported facts (e.g. units or legit factor levels). 

By providing a minimal vocabulary for trait thesauri (https://ecologicaltraitdata.github.io/ETS/#terms-for-thesauri), we hope to facilitate the publication of trait thesauri developed for a specific project context, which can be referenced in the trait dataset. The thesaurus might accompany the core data in a separate file (e.g. within a Darwin Core Archive), or be published on any other stable internet address (ideally providing stable URIs). 
<!-- PM: Is this possible in practice?- in plant traits slightly different methods makes some traits comparable conceptually but not in practice, and there are lots of very minor variations of similar traits- see the vast list of traits in TRY for example -->
See our online reference for recommendations how to publish a minimal thesaurus compliant with semantic web standards [https://ecologicaltraitdata.github.io/ETS/thesauri.html].  We also provide an example thesaurus, which has been developed to capture traits assessed for multiple animal taxa within the German Biodiversity Exploratories project on Github (http://ecologicaltraitdata.github.io/TraitDataList/). 


### Specification of Metadata terms

Information about the authorship and ownership of the data and the terms of use should be considered when sharing and working with trait datasets.
We define a vocabulary (https://ecologicaltraitdata.github.io/ETS/#metadata-vocabulary) that allows trait data to be related to authors and owners, while also stating a bibliographic reference and license model. 

In the case of primary measurement data, this information applies to the entire trait dataset, and should be stored along with the published data as metadata (e.g. in a separate metadata file, possibly consider applying the ecological metadata language, EML). 
In cases where individual measurements and facts from different sources are compiled into a trait database, these metadata information must be provided at the measurement level. This can be achieved by appending the information as columns to the core dataset, or via an unambiguous `datasetID` and a descriptive `datasetName`. 

<!--Open access to science data from publicly funded research is a declared goal of international and national research organisations [@emerson15; @allianceofgermanscienceorganisations10; @theroyalsocietysciencepolicycentre12] and increasingly required by journals and funding agencies to warrant reproducibility of science and foster public benefit. 
Also, factual data such as trait measurements, being not a product of a creative act, do not qualify as intellectual property and copyright does not apply [@carroll15; @creativecommons].
However, there is still no broad consensus achieved in the scientific community whether data from public funding must be generally dedicated to the public domain, or whether the investment in production must be acknowledged by attribution or co-authorship. -->

<!-- cP: Maybe we should put in the appendix an example of dataset+metadata? This should probably go in the metadata section 
FDS: to consider!! -->

### Extensions for additional data layers

Beyond measurement units or higher taxon information, further information might be available that may not be core data, but are related to the individual or specimen, or to the reported fact, measurement or sampling event. 

The data standard provides three extensions of the vocabulary that should be used to describe these information:

- the `Taxon` extension (http://ecologicaltraitdata.github.io/ETS/#extension-taxon) provides further terms for specifying the taxonomic resolution of the observation and to ensure correct reference in case of synonyms and homonyms.
- The `Occurrence` extension (https://ecologicaltraitdata.github.io/ETS/#extension-occurrence) contains vocabulary to describe information on the level of individual specimens, such as sex, life stage or age. This also includes the method of sampling and preservation, as well as date and geographical location, which provides an important resource to analyse trait variation due to differences in space and time.
- The `MeasurementOrFact` extension (https://ecologicaltraitdata.github.io/ETS/#extension-measurement-or-fact) provides terms to describe information at the level of single measurements or reported facts, such as the original literature from where the value is cited, the method of measurement or statistical method of aggregation. It provides important information that allows for the tracking of potential sources of noise or bias in measured data (e.g. variation in measurement method) or aggregated values (e.g. statistical method applied), as well as the source of reported facts (e.g. literature source or expert reference).   

Many terms of these extensions refine or copy terms of the Darwin Core Standard (Dwc) and their own [Taxon](http://rs.tdwg.org/dwc/terms/index.htm#Taxon),  [MeasurementOrFact](http://rs.tdwg.org/dwc/terms/index.htm#measureindex) and [Occurrence](http://rs.tdwg.org/dwc/terms/index.htm#Occurrence) extensions and EOL TraitBank's use of those terms (http://eol.org/info/structured_data_archives).

<!-- If no taxonID has been provided, in order to be unambiguous about the taxon referred to by the trait observation, it is highly recommended to keep an additional reference to higher taxonomic hierarchies (using columns `kingdom`, `order` etc.) to avoid taxonomic homonyms, and provide the authority (???) and key of reference (???).  
Furthermore, it is best practice to keep a record of the reported taxon rank (in column `taxonRank`) for traits recorded at the family or genus level. This information can then be used for trait inference at higher taxonomic resolution. <!-- using hierarchical probabilistic matrix factorisation [@schrodt15]. -->

As for metadata information, these additional layers of information can either be added as extra columns to the core dataset or be kept in separate data sheets (published separately or as part of a Darwin Core Archive), this avoiding redundancy and duplication of content. A unique identifier would link to these other datasheets, encoding each individual occurrence of a species (`occurrenceID`), single measurements or reported facts (`measurementID`), locations of sampling (`locationID`) and sampling campaigns (`eventID`). 
Some data-types may directly refer to existing global identifiers for occurrence IDs, e.g. a GBIF URI or a museum collection code referencing the precise specimen at which the measurement was taken and that is publicly available.

# 3. Computational tools for producing compliant data

To access data from public databases, the R-package 'traits' [@chamberlain17] contains functions to extract trait data via several open API interfaces including Birdlife, EOL TraitBank or BetyDB. The package  'TR8' provides similar access to plant traits from a list of databases [including LEDA, BiolFlor and Ellenberg values; @bocci15] and aggregates them into a species-trait matrix. However, none of these packages provides harmonization of traits into a unified scheme to facilitate further analysis. 

Accordingly, we started to develop the R package 'traitdataform', which assists the production of data compliant with the trait data standard proposed here. There are two major use cases for the package:

1. preparing own trait datasets for publication on public file-servers and project databases, and
2. automating the harmonisation of trait datasets from different sources by moulding them into a unified format. 

A comprehensive documentation of the package is found on its Github repository (https://github.com/EcologicalTraitData/traitdataform) and the documentation website (http://EcologicalTraitData.github.io/traitdataform/). 
The package is under continuous open source development and invites participation in development, comments or bug reports via the Github Issue page (https://github.com/EcologicalTraitData/traitdataform/issues). 

<!-- The key function of the package is `as.traitdata()` which moulds a species-trait-matrix or occurrence table into a measurement longtable format (Fig. 2). This function also maps column names into terms provided in the trait data standard and adds metadata as attributes to the output object. This example converts an own file 'data.csv' into a dataset of long-table structure that employs the standard vocabulary for core data:

```
library("traitdataform")
dataset <- as.traitdata(read.csv("path/to/data.csv"), 
             traits = c("body_length", "antenna_length", 
                        "metafemur_length"),
             units = "mm",
             taxa = "name_correct", 
             keep = c(locationID = "location")
             )

```

The column containing taxon names is given in parameter 'taxa'. Note that the parameter 'keep' specifies and renames any data that should be maintained in the output. The parameter 'units' is used to specify the input units of measurement. 

\begin{figure}[h]
\centering
\includegraphics[width=1\textwidth, angle=0]{figures/fig3.png}
\caption{Process chart of the functions provided within the R package.}

\end{figure}

In order to map user-provided names to unambiguous and globally unique identifiers, the function `standardize.taxonomy()` matches scientific taxon names automatically to the GBIF Backbone Taxonomy and adds the column `taxonID` to the core data. 
<!-- BKR: In the example below, this looks like a manual matching. What is done automatically here and which information does the user have to provide?  FDS: taxon is matched automatically, traits not. lack of trait APIs and webservices. --> 
<!-- Similarly, the `standardize.traits()` function matches user-provided trait names onto a given trait vocabulary and links it to an existing trait ontology or a user-provided table of trait definitions, i.e. a thesaurus of traits. The same function harmonises trait values by converting values into target units and unified factor levels. 
<!-- BKR: Have you thought about linking to unit ontologies here?
AO: This paper is a good reference and gives an idea of which ontology could be used;
http://www.semantic-web-journal.net/content/comparison-and-evaluation-ontologies-units-measurement
FDS: might be referred to in the section about thesauri -->
<!--
The following example harmonizes traits based on a minimal thesaurus, referencing trait names with globally valid URIs defined by the BETSI thesaurus of soil invertebrate traits:

```
traitlist <- as.thesaurus(
   body_length = as.trait("body_length", 
     expectedUnit = "mm", valueType = "numeric", 
     identifier = "http://t-sita.cesab.org/BETSI_vizInfo.jsp?trait=Body_length"), 
   antenna_length = as.trait("antenna_length", 
     expectedUnit = "mm", valueType = "numeric", 
     identifier = "http://t-sita.cesab.org/BETSI_vizInfo.jsp?trait=Antenna_length"),
   metafemur_length = as.trait("metafemur_length", 
     expectedUnit = "mm", valueType = "numeric", 
     identifier = "http://t-sita.cesab.org/BETSI_vizInfo.jsp?trait=Femur_length")
)

datasetStd <- standardize.traits(dataset, thesaurus = traitlist)
```

The function `as.thesaurus()` provides a structured object that is required by the function `standardize.traits()`. Other ways of defining a thesaurus object are documented in the package vignette and function documentation (`?as.thesaurus`). Future iterations of the R package will aim at automatizing the generation of trait thesaurus objects from globally available Ontologies. 

The package functions form a toolchain where each function can be piped as an input into the next. A wrapper function `standardize()` applies all functions sequentially, making transferring and harmonizing traitdata as simple as:

```
datasetStd <- standardize(read.csv("path/to/data.csv"),
            thesaurus = traitlist,
            taxa = "name_correct", 
            units = "mm"
            )
```

Datasets that have been produced by these functions can easily be appended using the function `rbind()` of R base, while maintaining any available metadata information as separate column entries. 

To merge datasets with additional information on the occurrence or measurement level, secondary data tables can be added as columns of the core dataset according to a unique identifier using the function `merge()`. This enables an easy handling of data sources that have been stored in a Darwin Core Archive format. 

--> 

Since the intention of the package is also to simplify the harmonization of published trait data, the package offers direct access to trait datasets that have been released in the public domain or under creative commons licenses. <!--See a full list of linked datasets on the package  website or by calling `data(package = "traitdataform")`.--> We invite users and authors of datasets to add further data to the package and thereby contribute to this registry for distributed trait datasets. 

# Discussion

<!--The practical importance of these frameworks for data providers and data users is often not obvious and not appropriately considered when storing or uploading data to low-threshold  file-publishing services. 

The investment is only paying out in the long run. Citations of trait datasets are higher when they are easier to access and relate to other data due to standard structures and vocabularies. 
Along with the push towards open access publication of primary data, the scientific community must come up with ways to incentivize and require data standardization. 

More compatibility and availability of trait thesauri could greatly improve the possibilities for a comparison of trait data from different sources.-->
To serve the demand for simple ways to standardise and harmonize ecological trait data, we propose a versatile vocabulary for simple, two-dimensional datasets as well as for the exchange and handling of trait data in the context of a 'semantic web'.  
We also present a toolbox in R to transfer and harmonize data into this scheme. 

To date, a rich distributed body of independently published trait datasets focus on particular organism groups, ecosystem types or regions. To make these heterogeneous sources of data more accessible and interlinkable, we propose a traitdata standard terminology that can be applied in multiple contexts, for instance for building an own taxon-specific database or in user-side compilations of trait data from different sources. It also can be applied in the communication of data content between databases. In addition, we also offer a software tool to handle the extensive raw data resources on traits.

These tools are to facilitate research on trait variation along environmental gradients or intra-specific variation based on distributed data sources. This also opens the ground for a development of best practice principles for the filtering of raw measurements when creating species-level mean values. 

The tools proposed here help to standardise trait datasets before upload to central as well as distributed data repositories. In times of increasing demand for open research data and international platforms for biodiversity data management, the development of meaningful terminologies for the standardisation of biodiversity data is more than essential: defined ontologies enable researchers to relate published datasets to each other to achieve a greater synthesis, thereby paving the way for new insights on global biodiversity patterns. In terms of data science, semantic web ontologies are a prerequisite for advanced big data mining using machine learning techniques.
We hope this aids research on the response of traits to environmental and anthropogenic drivers, synthesis on trait patterns on all ecological scales [@messier10], as well as multi-trophic trait analysis. 

We also encourage the development of trait thesauri in more advanced and interrelated ontologies. The biggest challenge in community efforts of standardization of traits may be the investment in consensus building which leads to an acceptance and establishment of the methodological and conceptual definitions of traits. This effort is time consuming and lengthy, but it returns  great scientific benefit by enabling global synthesis, as was exemplified by the consistent global patterns that were unraveled by analyses of the plant trait database TRY [@diaz16]. 

# Acknowledgements

Thanks to all respondents to an internal online survey on trait data for the Biodiversity Exploratories project and to Matthias Biber, Diana Bowler, Klaus Birkhofer, Runa Boeddinghaus, Martin Gossner, Catrin Westphal and Jens Kattge for comments on the manuscript, the trait data standard vocabulary and the pre-releases of the R-package. 

The work has been partly funded by the DFG Priority Program
1374 "Infrastructure-Biodiversity-Exploratories" (DFG-Refno.). <!--Field work
permits were issued by the responsible state environmental offices of
Baden-Württemberg, Thüringen, and Brandenburg (according to § 72
BbgNatSchG).-->
We thank <!--the managers of the three Exploratories, Kirsten Reichel-Jung, Juliane Vogt, Miriam Teuscher, and all former managers for their work in maintaining the plot and project
infrastructure;--> Christiane Fischer and Jule Mangels for giving
support through the central office, <!--Michael Owonibi for
managing the central data base,--> and <!--Markus Fischer,--> Eduard Linsenmair,
Dominik Hessenmöller, Daniel Prati, Ingo Schöning, François Buscot,
Ernst-Detlef Schulze, Wolfgang W. Weisser and the late Elisabeth Kalko
for their role in setting up the Biodiversity Exploratories project. 

M.J. was supported by the German Research Foundation within the framework of the Jena Experiment (FOR 1451) and by the Swiss National Science Foundation.

# Authors' contributions

FDS, MJ, GP, AO, CP, and NKS conceived the ideas for the manuscript and critically revised the vocabulary for the trait data standard; All authors contributed to writing the paper under the lead of FDS; NKS authored the list of traits; FDS developed the R package 'traitdataform'. All authors contributed critically to the drafts and gave final approval for publication.

# Online Resources

The online reference for the Ecological Traitdata Standard Vocabulary described in this paper is https://ecologicaltraitdata.github.io/ETS/, stable DOI representing all versions: 10.5281/zenodo.1041732.

Any future development of the Vocabulary and the R-package is coordinated via https://github.com/EcologicalTraitData/. 

The development website for the R-package 'traitdataform' is https://github.com/EcologicalTraitData/traitdataform.

The living spreadsheet on existing trait datasets and databases is found at https://goo.gl/QxzfHy. 

# References 

\footnotesize